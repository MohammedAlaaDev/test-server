<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุชุฃููู โ ุชูููู ุงูููุงุฑุงุช</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
 <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
   
 <!-- Google Fonts (Cairo ) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  
  <!--<link href="style.css" rel="stylesheet">-->
</head>
<body class="bg-light">


<style>
    body {
      background-color: #f8f9fa;
      font-family: "Cairo", sans-serif;
    }

    /* ุงูุดุฑูุท ุงูุนููู */
    .navbar {
      background: linear-gradient(90deg, #0d6efd, #198754);
    }

    .navbar-brand {
      font-weight: bold;
      color: #fff !important;
      
    }

    /* ุงูุจุทุงูุงุช */
    .card {
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    .progress {
      height: 15px;
      border-radius: 10px;
    }

    footer {
      background-color: #0d6efd;
      color: white;
      padding: 10px 0;
      text-align: center;
      margin-top: 40px;
    }

    @media (max-width: 768px) {
      .card { margin-bottom: 20px; }
      h3 { font-size: 1.3rem; }
    }

 .offcanvas-body .nav-link {
            padding: 12px 25px;
            font-size: 15px;
            color: #495057;
            display: flex;
            align-items: center;
           
        }
        .offcanvas-body .nav-link i {
            margin-left: 15px;
            font-size: 18px;
           
            text-align: center;
        }
        .offcanvas-body .nav-link:hover, .offcanvas-body .nav-link.active {
            color: #0d6efd;
            background-color: #e9ecef;
        }

/* ุงูุดุฑูุท ุงูุฌุงูุจู ุฏููุงูููู */
.custom-sidebar.offcanvas-start {
    width: auto;            /* ุงูุนุฑุถ ุญุณุจ ุงููุญุชูู */
    min-width: 220px;       /* ุงูุญุฏ ุงูุฃุฏูู ููุนุฑุถ */
    max-width: 320px; 
    

}

/* ููุน ุงูุชูุงู ุงููุต ุฏุงุฎู ุงูุฑูุงุจุท */
.custom-sidebar .nav-link {
    white-space: nowrap;
}

/* ุงุณุชุฌุงุจุฉ ููุดุงุดุงุช ุงูุตุบูุฑุฉ */
@media (max-width: 768px) {
    .custom-sidebar.offcanvas-start {
        width: 80%;         /* ุชูุฑูุจุงู ูุบุทู ูุนุธู ุงูุดุงุดุฉ ุนูู ุงููุงุชู */
        min-width: auto;    /* ุฅุฒุงูุฉ ุงูุญุฏ ุงูุฃุฏูู */
        max-width: 90%;     /* ุงูุญุฏ ุงูุฃูุตู ููุดุงุดุฉ ุงูุตุบูุฑุฉ */
    }
}

       
  </style>


    <!-- Top Navbar -->
    <nav class="navbar navbar-light bg-white shadow-sm">
        <div class="container-fluid">
            <!-- Hamburger Menu Button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand ms-auto" href="#">ููุตุฉ ุงูุชุฃููู</a>
        </div>
    </nav>

<!-- Sidebar (Offcanvas ) -->
<div class="offcanvas offcanvas-start custom-sidebar" tabindex="-1" id="sidebar" aria-labelledby="sidebarLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="sidebarLabel">ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link active" href="dashboard.html"><i class="bi bi-house-door-fill"></i> ููุญุฉ ุงูุชุญูู</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#"><i class="bi bi-collection-play-fill"></i> ุฏูุฑุงุชู</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="program-detail.html"><i class="bi bi-search"></i> ุชุตูุญ ุงูุฏูุฑุงุช</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="jobs.html"><i class="bi bi-briefcase-fill"></i> ูุฑุต ุงูุนูู</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="profile.html"><i class="bi bi-person-fill"></i> ูููู ุงูุดุฎุตู</a>
            </li>
             <li class="nav-item">
                <a class="nav-link" href="logout.html"><i class="bi bi-person-fill"></i>๐ ุชุณุฌูู ุงูุฎุฑูุฌ</a>
            </li>
           
        </ul>
    </div>
</div>


  <main class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card shadow-sm mb-4">
          <div class="card-body">
            <h4 class="mb-3">ุงุณุชูุงุฑุฉ ุชูููู ุงูููุงุฑุงุช</h4>
            <p class="text-muted small">ุฃุฌุจ ุนู ุงูุฃุณุฆูุฉ ุงูุชุงููุฉ ุญุชู ูุชููู ูู ุงูุชุฑุงุญ ุจุฑุงูุฌ ุชุฏุฑูุจูุฉ ููุงุณุจุฉ ูู.</p>

            <form>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">ุงูุงุณู ุงููุงูู</label>
                  <input class="form-control" required>
                </div>

                <div class="col-md-6">
                  <label class="form-label">ุงููุฏููุฉ</label>
                  <input class="form-control"required>
                </div>

                <div class="col-12">
                  <label class="form-label">ุงููุคูู ุงูุชุนูููู</label>
                  <select class="form-select"required>
                    <option>ุฏูู ูุคูู</option>
                    <option>ุดูุงุฏุฉ ุซุงูููุฉ</option>
                    <option>ุฏุจููู</option>
                    <option>ุจูุงููุฑููุณ ุฃู ุฃุนูู</option>
                  </select>
                </div>

                <div class="col-12">
                  <label class="form-label">ุงูููุงุฑุงุช ุงูุญุงููุฉ (ุงุฎุชุฑ ูุง ููุทุจู)</label>
                  <div class="d-flex flex-wrap gap-2">
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="skill1">
                      <label class="form-check-label" for="skill1">ุฅุฏุงุฑุฉ ูุดุงุฑูุน</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="skill2">
                      <label class="form-check-label" for="skill2">ุชุทููุฑ ููุจ</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="skill3">
                      <label class="form-check-label" for="skill3">ุชุตููู ุฌุฑุงููู</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="skill4">
                      <label class="form-check-label" for="skill4">ูุจูุนุงุช ูุฎุฏูุฉ ุนููุงุก</label>
                    </div>
                  </div>
                </div>

                <div class="col-12">
                  <label class="form-label"required>ูุฏุฉ ุงูุชูุฑุบ ููุชุฏุฑูุจ ุฃุณุจูุนููุง</label>
                  <input type="number" class="form-control" min="0" value="5">
                </div>

                <div class="col-12">
                  <label class="form-label">ูุงุฐุง ุชูุฏ ุฃู ุชุชุนููุ (ุงุฎุชูุงุฑู)</label>
                  <textarea class="form-control" rows="3"></textarea>
                </div>

               <div class="col-12 d-grid">
                
 <button type="submit" class="btn btn-success"><a href="jobs.html">  ุงุฑุณุงู ุงูุจูุงูุงุช ูุงูุชุฑุงุญ ุงูุจุฑุงูุฌ </a></button>
</div>


<!-- ูุฐุง ุงูููุงู ูุนุฑุถ ุงููุชุงุฆุฌ -->
<div id="assessment-results" class="mt-3"></div>

              </div>
            </form>

          </div>
        </div>

        <div class="card shadow-sm">
          <div class="card-body">
            <h5>ูุตุงุฆุญ ุณุฑูุนุฉ</h5>
            <ul class="small">
              <li>ุญุฏุฏ ููุงุฑุงุชู ุงูุญููููุฉ ุจุตุฏู ุญุชู ุชููู ุงูุชูุตูุงุช ุฏูููุฉ.</li>
              <li>ุงุจุฏุฃ ุจุฏูุฑุงุช ูุตูุฑุฉ ูุฅุฐุง ุฃุนุฌุจุชู ุงุชุฌู ููุฃูุซุฑ ุชุฎุตุตูุง.</li>
            </ul>
          </div>
        </div>

      </div>
    </div>
  </main>

<script>
const apiBase = "http://localhost:3000";

document.querySelector("form").addEventListener("submit", async (e) => {
  e.preventDefault();

  // ุฌูุน ุงูุจูุงูุงุช ูู ุงูุญููู
  const name = document.querySelector('input[type="text"]').value.trim();
  const city = document.querySelectorAll('input[type="text"]')[1].value.trim();
  const education = document.querySelector("select").value;
  const hours = document.querySelector('input[type="number"]').value;
  const goal = document.querySelector("textarea").value.trim();

  // ุงูููุงุฑุงุช ุงููุฎุชุงุฑุฉ
  const skills = [];
  document.querySelectorAll(".form-check-input").forEach(chk => {
    if (chk.checked) skills.push(chk.nextElementSibling.textContent.trim());
  });

  // ุฅุฑุณุงู ุงูุจูุงูุงุช ููุณูุฑูุฑ
  // try {
  //   const res = await fetch(`${apiBase}/submit-assessment`, {
  //     method: "POST",
  //     headers: { "Content-Type": "application/json" },
  //     body: JSON.stringify({ name, city, education, skills, hours, goal })
  //   });

    const data = await res.json();

    if (data.success) {
      alert(data.message);

      // ุนุฑุถ ุงูุจุฑุงูุฌ ุงูููุชุฑุญุฉ
      let resultHTML = "<h5 class='mt-3 text-success'>๐ฏ ุงูุจุฑุงูุฌ ุงูููุชุฑุญุฉ ูู:</h5><ul>";
      data.programs.forEach(p => {
        resultHTML += `<li>${p}</li>`;
      });
      resultHTML += "</ul>";

     document.getElementById("assessment-results").innerHTML = resultHTML;

    } else {
      alert("โ " + data.message);
    }

  } catch (err) {
    alert("ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุฅุฑุณุงู ููุณูุฑูุฑ");
    console.error(err);
  }
});
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
