<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ - ููุตุฉ ุงูุชุฃููู ูุงูุชูุธูู</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
   
 <!-- Google Fonts (Cairo ) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
   
<style>
    body {
      background-color: #f8f9fa;
      font-family: "Cairo", sans-serif;
    }

    /* ุงูุดุฑูุท ุงูุนููู */
    .navbar {
      background: linear-gradient(90deg, #0d6efd, #198754);
    }

    .navbar-brand {
      font-weight: bold;
      color: #fff !important;
      
    }

    /* ุงูุจุทุงูุงุช */
    .card {
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    .progress {
      height: 15px;
      border-radius: 10px;
    }

    footer {
      background-color: #0d6efd;
      color: white;
      padding: 10px 0;
      text-align: center;
      margin-top: 40px;
    }

    @media (max-width: 768px) {
      .card { margin-bottom: 20px; }
      h3 { font-size: 1.3rem; }
    }

 .offcanvas-body .nav-link {
            padding: 12px 25px;
            font-size: 15px;
            color: #495057;
            display: flex;
            align-items: center;
           
        }
        .offcanvas-body .nav-link i {
            margin-left: 15px;
            font-size: 18px;
           
            text-align: center;
        }
        .offcanvas-body .nav-link:hover, .offcanvas-body .nav-link.active {
            color: #0d6efd;
            background-color: #e9ecef;
        }

/* ุงูุดุฑูุท ุงูุฌุงูุจู ุฏููุงูููู */
.custom-sidebar.offcanvas-start {
    width: auto;            /* ุงูุนุฑุถ ุญุณุจ ุงููุญุชูู */
    min-width: 220px;       /* ุงูุญุฏ ุงูุฃุฏูู ููุนุฑุถ */
    max-width: 320px; 
    

}

/* ููุน ุงูุชูุงู ุงููุต ุฏุงุฎู ุงูุฑูุงุจุท */
.custom-sidebar .nav-link {
    white-space: nowrap;
}

/* ุงุณุชุฌุงุจุฉ ููุดุงุดุงุช ุงูุตุบูุฑุฉ */
@media (max-width: 768px) {
    .custom-sidebar.offcanvas-start {
        width: 80%;         /* ุชูุฑูุจุงู ูุบุทู ูุนุธู ุงูุดุงุดุฉ ุนูู ุงููุงุชู */
        min-width: auto;    /* ุฅุฒุงูุฉ ุงูุญุฏ ุงูุฃุฏูู */
        max-width: 90%;     /* ุงูุญุฏ ุงูุฃูุตู ููุดุงุดุฉ ุงูุตุบูุฑุฉ */
    }
}

       
  </style>
</head>
<body>

    <!-- Top Navbar -->
    <nav class="navbar navbar-light bg-white shadow-sm">
        <div class="container-fluid">
            <!-- Hamburger Menu Button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand ms-auto" href="#">ููุตุฉ ุงูุชุฃููู</a>
        </div>
    </nav>


<!-- Sidebar (Offcanvas ) -->
<div class="offcanvas offcanvas-start custom-sidebar" tabindex="-1" id="sidebar" aria-labelledby="sidebarLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="sidebarLabel">ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link active" href="#"><i class="bi bi-house-door-fill"></i> ููุญุฉ ุงูุชุญูู</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="assessment.html"><i class="bi bi-collection-play-fill"></i> ุชููู ุงูููุงุฑุงุช</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="program-detail.html"><i class="bi bi-search"></i> ุชุตูุญ ุงูุฏูุฑุงุช</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="jobs.html"><i class="bi bi-briefcase-fill"></i> ูุฑุต ุงูุนูู</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="profile.html"><i class="bi bi-person-fill"></i> ูููู ุงูุดุฎุตู</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="admin-dashboard.html"><i class="bi bi-person-fill"></i> ููุญุฉ ุงููุฏูุฑ</a>
            </li>
             <li class="nav-item">
                <a class="nav-link" href="trainer-dashboard.html"><i class="bi bi-person-fill"></i> ููุญุฉ ุงููุฏุฑุจูู</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="logout.html"><i class="bi bi-person-fill"></i>๐ ุชุณุฌูู ุงูุฎุฑูุฌ</a>
            </li>
            
        </ul>
    </div>
</div>


  <!-- ๐น ุงููุญุชูู -->
  <div class="container mt-5">
    <!-- ูุนูููุงุช ุงููุณุชุฎุฏู -->
    <div class="text-center mb-4">
      <h3>ูุฑุญุจูุง ุจู ๐ <span class="text-primary" id="username">ุงููุณุชุฎุฏู</span></h3>
      <p class="text-muted">ุชุงุจุน ุชูุฏูู ูู ุงูุชุฏุฑูุจ ูุงูุชุดู ูุฑุต ุงูุนูู ุงูููุงุณุจุฉ ูู.</p>
    </div>

    <!-- ๐ธ ุตู ุงูุจุทุงูุงุช -->
    <div class="row g-4">
      <!-- ุงูุชูุฏู 
      <div class="col-md-4 col-sm-12">
        <div class="card p-3 text-center">
          <h5>ุชูุฏูู ูู ุงูุชุฏุฑูุจ</h5>
          <div class="progress my-3">
            <div class="progress-bar bg-success" id="progressBar" style="width: 0%">0%</div>
          </div>
          <p class="text-muted" id="progressText">ุฌุงุฑู ุงูุชุญููู...</p>
        </div>
      </div>-->

      <!-- ุงูุจุฑุงูุฌ ุงูุชุฏุฑูุจูุฉ -->
      
      <div class="col-md-4 col-sm-12">
        <a href="program-detail.html">
        <div class="card p-3">
           <h5 class="text-center text-primary mb-3">  ุนุฑุถ ุงูุจุฑุงูุฌ ุงูููุชุฑุญุฉ</h5>
          <ul class="list-group" id="programList">
            <li class="list-group-item text-center text-muted">ุงููุฑ  ููุง ููุนุฑุถ...</li>
          </ul>
        </div>
        </a>
      </div>
                  
      <!-- ุงูุดูุงุฏุงุช -->
      <div class="col-md-4 col-sm-12">
        <div class="card p-3 text-center">
          <h5 class="text-primary">๐ ุดูุงุฏุงุชู</h5>
          <ul class="list-group" id="certList">
            <li class="list-group-item text-center text-muted">ูู ุชุทูุฑ ุจุนุฏ </li>
          </ul>
        </div>
      </div>

 
  <div class="col-md-4 col-sm-12">
    <a href="jobs.html">
        <div class="card p-3 text-center">
          <h5 class="text-primary">๐ผ ูุฑุต ุนูู ููุชุฑุญุฉ ูู</h5>
          <ul class="list-group" id="certList">
            <li class="list-group-item text-center text-muted">ุงููุฑ ููุง ููุนุฑุถ...</li>
          </ul>
        </div>
    </a>
      </div>
      

    </div>

    <!-- ูุฑุต ุงูุนูู -->
    <!-- <div class="mt-5">
      <h4 class="text-center mb-3 text-success">๐ผ ูุฑุต ุนูู ููุชุฑุญุฉ ูู</h4>
      <div class="row g-3" id="jobList">
        <div class="col-12 text-center text-muted">ุฌุงุฑู ุงูุชุญููู...</div>
      </div>
    </div> -->
   
  </div>

  <!-- ๐น ุชุฐููู -->
  <footer>
    <p>ยฉ 2025 ููุตุฉ ุงูุชุฃููู ูุงูุชูุธูู - ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
  </footer>

  <script>
    const apiBase = "http://localhost:3000"; // ุนุฏูููุง ุญุณุจ ุงูุณูุฑูุฑ

    // ุชุญููู ุจูุงูุงุช ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
    async function loadDashboardData() {
      try {
        const res = await fetch(`${apiBase}/dashboard-data`);
        const data = await res.json();

        if (!res.ok) throw new Error("ูุดู ูู ุชุญููู ุงูุจูุงูุงุช");

        // ุงุณู ุงููุณุชุฎุฏู
        document.getElementById("username").textContent = data.user.username;

        // ุงูุชูุฏู
        document.getElementById("progressBar").style.width = data.progress + "%";
        document.getElementById("progressBar").textContent = data.progress + "%";
        document.getElementById("progressText").textContent = `ุฃูุฌุฒุช ${data.completedCourses} ูู ${data.totalCourses} ุฏูุฑุงุช`;

        // ุงูุจุฑุงูุฌ
        const programList = document.getElementById("programList");
        programList.innerHTML = "";
        data.programs.forEach(p => {
          const li = document.createElement("li");
          li.className = "list-group-item";
          li.textContent = `๐ ${p}`;
          programList.appendChild(li);
        });

        // ุงูุดูุงุฏุงุช
        const certList = document.getElementById("certList");
        certList.innerHTML = "";
        data.certificates.forEach(c => {
          const li = document.createElement("li");
          li.className = "list-group-item";
          li.textContent = `๐ ${c}`;
          certList.appendChild(li);
        });

        // ูุฑุต ุงูุนูู
        const jobList = document.getElementById("jobList");
        jobList.innerHTML = "";
        data.jobs.forEach(job => {
          const div = document.createElement("div");
          div.className = "col-md-6";
          div.innerHTML = `
            <div class="card p-3">
              <h6>ูุธููุฉ: ${job.title}</h6>
              <p class="text-muted">${job.company}</p>
              <button class="btn btn-primary btn-sm">ุชูุฏูู ุงูุขู</button>
            </div>`;
          jobList.appendChild(div);
        });

      } catch (err) {
       // alert("ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญููู ุงูุจูุงูุงุช โ");
        console.error(err);
      }
    }            

    // ุชุณุฌูู ุงูุฎุฑูุฌ
    function logout() {
      localStorage.clear();
      alert("ุชู ุชุณุฌูู ุงูุฎุฑูุฌ โ");
      window.location.href = "login.html";
    }

    // ุชุญููู ุงูุจูุงูุงุช ุนูุฏ ุงูุฏุฎูู
    loadDashboardData();
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
